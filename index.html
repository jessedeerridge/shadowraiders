<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>六芒星（同じひし形×6｜辺共有）</title>
<style>
  :root{
    /* ひし形の一辺の長さ（px）。数字を変えると全体スケールが変わります。 */
    --side: 100;
    /* 線幅 */
    --stroke: 2;
  }
  html,body{height:100%}
  body{
    margin:0; display:grid; place-items:center; background:#f7f7f8; color:#111;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  }
  .wrap{padding:16px}
  .title{margin:0 0 10px;font-size:14px;opacity:.8;text-align:center}
  svg{display:block; width:min(92vw,540px); height:auto; background:#fff; border-radius:16px; box-shadow:0 6px 24px rgba(0,0,0,.08)}
  .diamond{stroke:#111; stroke-width:var(--stroke); fill:#7cc4ff20}
  .diamond:nth-child(even){fill:#ffd66e26} /* 見やすいように交互色 */
  /* ガイド（正六角形の外形）。要らなければ .guide を display:none に */
  .guide{fill:none; stroke:#999; stroke-dasharray:6 6; stroke-width:1}
</style>
</head>
<body>
<div class="wrap">
  <p class="title">同じ正ひし形×6を円環状に配置（内側の辺を共有）</p>
  <!--
    ビューボックスは原点(0,0)中心に左右上下へ広げています。
    ここでは side=100 とし、外側の星の先端半径は 2*t (= √3 * side) なので、
    余白を含めて ±220 程度を確保。
  -->
  <svg id="hexstar" viewBox="-220 -220 440 440" aria-label="六芒星（ひし形6枚）"></svg>
</div>

<script>
  // （参考）頂いた Firebase 設定。ここでは未使用です。
  const firebaseConfig = {
    apiKey: "AIzaSyASUJcPyybcD9q77XDatI5bCzZxDvsBH_o",
    authDomain: "shadowraiders-a2dbc.firebaseapp.com",
    projectId: "shadowraiders-a2dbc",
    storageBucket: "shadowraiders-a2dbc.firebasestorage.app",
    messagingSenderId: "577276689873",
    appId: "1:577276689873:web:9a13faf90c3d6a791e34f0",
    measurementId: "G-PKNEPDBVSS"
  };

  // 幾何パラメータ
  const SIDE = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--side')) || 100;
  // 正三角形の高さ t = (√3 / 2) * side
  const t = Math.sqrt(3) / 2 * SIDE;
  // 正ひし形の短径半分 w = side / 2、長径半分 h = t
  const w = SIDE / 2;
  const h = t;

  // 基本ひし形（原点中心・長径が縦）の4頂点（反時計回り）
  const base = [
    [ 0, -h],  // 上端（内側に向く頂点：後で中心に重ねる）
    [ w,  0],  // 右
    [ 0,  h],  // 下端（外側に向く頂点：後で外向きに）
    [-w,  0]   // 左
  ];

  // 回転 + 並進を適用して points 文字列を作る
  function makePoints(cx, cy, theta){
    const cos = Math.cos(theta), sin = Math.sin(theta);
    return base.map(([x,y])=>{
      const xr =  x * cos - y * sin;
      const yr =  x * sin + y * cos;
      return (xr + cx).toFixed(3) + ',' + (yr + cy).toFixed(3);
    }).join(' ');
  }

  // 描画
  const svg = document.getElementById('hexstar');

  // ガイド：中央の正六角形（各ひし形の内側の辺が一致する場所）
  // 正六角形の外接半径 R = side
  const R = SIDE;
  const hexPts = Array.from({length:6}, (_,k)=>{
    const a = Math.PI/3 * k - Math.PI/6; // 30°ずらして水平辺に揃える
    return (R*Math.cos(a)).toFixed(3)+','+(R*Math.sin(a)).toFixed(3);
  }).join(' ');
  const guide = document.createElementNS('http://www.w3.org/2000/svg','polygon');
  guide.setAttribute('points', hexPts);
  guide.setAttribute('class','guide');
  svg.appendChild(guide);

  // 6個のひし形を作成
  for (let k=0; k<6; k++){
    // 60°刻み。長径方向（外向き法線）をこの角度に合わせる
    const theta = Math.PI/3 * k;
    // ひし形の「内側の頂点」を原点（全体の中心）に合わせたいので、
    // ひし形の中心を t だけ外向きにオフセットする（＝長径半分だけ押し出す）
    const cx = t * Math.cos(theta);
    const cy = t * Math.sin(theta);

    const poly = document.createElementNS('http://www.w3.org/2000/svg','polygon');
    poly.setAttribute('points', makePoints(cx, cy, theta));
    poly.setAttribute('class','diamond');
    svg.appendChild(poly);
  }
</script>
</body>
</html>
