<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>中央六角形＋外周五角形6</title>
<style>
  html,body{height:100%;margin:0;background:#fff}
  svg{display:block;margin:auto;max-width:95vmin;height:auto}
  .shape{fill:#fff;stroke:#111;stroke-width:8;stroke-linejoin:round;stroke-linecap:round}
</style>
</head>
<body>
<svg id="art" viewBox="-200 -200 400 400"></svg>

<script>
const svg = document.getElementById("art");
const rt3 = Math.sqrt(3);

// === 中央六角形 ===
const side = 60;  // 六角形の一辺の長さ
const h = rt3/2*side;

function hexPoints(cx, cy, s){
  const h = (rt3/2)*s;
  return [
    [cx+s, cy],
    [cx+s/2, cy+h],
    [cx-s/2, cy+h],
    [cx-s, cy],
    [cx-s/2, cy-h],
    [cx+s/2, cy-h]
  ];
}

function polygon(points){
  const el = document.createElementNS("http://www.w3.org/2000/svg","polygon");
  el.setAttribute("points", points.map(p=>p.join(",")).join(" "));
  el.setAttribute("class","shape");
  svg.appendChild(el);
}

const hex = hexPoints(0,0,side);
polygon(hex);

// === 外周五角形 ===
// 五角形は「六角形の辺を底辺として、その外側に二辺＋頂点」で構成
function add(a,b){ return [a[0]+b[0],a[1]+b[1]]; }
function sub(a,b){ return [a[0]-b[0],a[1]-b[1]]; }
function mul(v,k){ return [v[0]*k,v[1]*k]; }
function norm(v){ let L=Math.hypot(v[0],v[1])||1; return [v[0]/L,v[1]/L]; }

for(let i=0;i<6;i++){
  const a = hex[i];
  const b = hex[(i+1)%6];
  const mid = [(a[0]+b[0])/2,(a[1]+b[1])/2];

  // 外向き法線ベクトル
  const e = sub(b,a);
  let n = [-e[1], e[0]];
  // 中心から外側へ向かせる
  const dot = (mid[0]*n[0] + mid[1]*n[1]);
  if(dot<0) n = mul(n,-1);
  n = norm(n);

  const tipLen = side; // 先端の高さ（＝辺長と同程度に）
  const tip = add(mid, mul(n, tipLen));

  // 五角形 = a→b→(b+out/2)→tip→(a+out/2)
  const outA = add(a, mul(n, tipLen*0.5));
  const outB = add(b, mul(n, tipLen*0.5));
  polygon([a,b,outB,tip,outA]);
}
</script>
</body>
</html>
